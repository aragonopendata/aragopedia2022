<div class="loading" *ngIf="isLoading">
    <mat-spinner [diameter]="70"></mat-spinner>
    <p>Cargando línea temporal</p>
</div>
<div *ngIf="!isLoading" class="timeline-container">
    <!-- Custom range selector -->
    <div class="timeline-chart-container" [hidden]="accessibleMode">
        <canvas #timelineCanvas id="timeline-chart" [width]="canvasWidth" [height]="canvasHeight"></canvas>
    </div>

    <div class="accessible-mode" *ngIf="accessibleMode">
        <form appearance="fill">
            <div class="select-container">
                <label>Año de inicio</label>
                <select class="accessible__select select" [(ngModel)]="firstYearSelected" (change)="accessibleSelect()"
                    [ngModelOptions]="{standalone: true}">
                    <option *ngFor="let data of dataSource" [value]="data.date">
                        {{data.date}}
                    </option>
                </select>
            </div>

            <div class="select-container">
                <label>Año de fin</label>
                <select class="accessible__select select" [(ngModel)]="lastYearSelected" (change)="accessibleSelect()"
                    [ngModelOptions]="{standalone: true}">
                    <option *ngFor="let data of dataSource" [value]="data.date">
                        {{data.date}}
                    </option>
                </select>
            </div>
        </form>
    </div>

    <div class="years-selected">
        <p>Años seleccionados:
            <b> {{yearsURL}} </b>
        </p>
        <desy-button 
        classes="c-button--link" 
        (clickEvent)="toggleAccessibleMode()">
        <span *ngIf="!accessibleMode">Mostrar modo accesible</span>
        <span *ngIf="accessibleMode">Ocultar modo accesible</span>
      </desy-button>
    </div>
</div>